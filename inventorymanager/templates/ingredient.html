              <!DOCTYPE html>
              <html lang="en">
              <head>
              <meta charset="utf-8">
              <title>Vue-js | Django | Crud App</title>
              <meta name="viewport" content="width=device-width, initial-scale=1.0">
              <meta name="description" content="A simple crud app made with the vue js and django">
              <meta name="keywords" content="vuejs, django, crudapp, restapi">
              <!-- <! — bootstap  -->
              <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
              <!-- <! — boostrap css → -->
              </head>

              <body>
                      <div id="starting">
                              <div class="container">
                                <div class="row">
                                  <h1>List of Ingredients
                                  <button class="btn btn-success" data-toggle="modal" data-target="#addIngredientModal">Add Ingredient</button>
                                  </h1>
                                  <table class="table">
                                    <thead>
                                      <tr>
                                        <th scope="col">Name</th>
                                        <th scope="col">Package Size</th>
                                        <th scope="col">Cost per Package</th>
                                        <th scope="col">Actions</th>
                                      </tr>
                                    </thead>
                                    <tbody>
                                      <tr v-for="ingredient in ingredients">
                                        <th scope="row">${ingredient.name}</th>
                                        <td>${ingredient.package_size}</td>
                                        <td>${ingredient.cpp}</td>
                                        <td>
                                          <button class="btn btn-info" v-on:click="getIngredient(ingredient.id)">Edit</button>
                                          <button class="btn btn-danger" v-on:click="deleteIngredient(ingredient.id)">Delete</button>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>
                              </div>
                              <div class="loading" v-if="loading===true">Loading&#8230;</div>

            <!-- Add Article Modal -->
            <div class="modal fade" id="addIngredientModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLongTitle">Add Ingredient</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>

                    <form v-on:submit.prevent="addIngredient()">
                        <div class="modal-body">
                        <div class="form-group">
                            <label>Ingredient Name</label>
                            <input
                              type="text"
                              class="form-control"
                              placeholder="Enter Ingredient Name"
                              v-model="newIngredient.name"
                              required="required" >
                          </div>

                            <div class="form-group">
                                <label>Package Size</label>
                                <input
                                  type="text"
                                  class="form-control"
                                  placeholder="Enter Package Size"
                                  v-model="newIngredient.package_size"
                                  required="required" >
                              </div>

                              <div class="form-group">
                                  <label>Cost per Package</label>
                                  <input
                                    type="number"
                                    class="form-control"
                                    placeholder="Enter Cost per Package"
                                    v-model="newIngredient.cpp"
                                    required="required" >
                                </div>
                            
                          <div class="form-group">
                              <label>(Optional) Vender Info</label>
                              <textarea
                                class="form-control"
                                placeholder="Enter Optional Vender Info"
                                v-model="newIngredient.description"
                                rows="3"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label>(Optional) Ingredient ID</label>
                                <input
                                  type="number"
                                  class="form-control"
                                  placeholder="Enter Optional Ingredient ID"
                                  v-model="newIngredient.id">
                              </div>
                            </div>
              <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                  <button type="submit" class="btn btn-primary">Save changes</button>
                </div>   
                
                          </form>

                  </div>
                </div>
              <div class="loading" v-if="loading===true">Loading&#8230;</div>          
              </div>
              <!-- End of add article modal -->

      <!-- Edit Article Modal -->
      <div class="modal fade" id="editIngredientModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Edit Ingredient</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <form v-on:submit.prevent="updateIngredient()">
              <div class="modal-body">
                  <div class="form-group">
                      <label>Ingredient Name</label>
                      <input
                        type="text"
                        class="form-control"
                        placeholder="Enter Ingredient Name"
                        v-model="currentIngredient.name"
                        required="required" >
                    </div>
                    <div class="form-group">
                        <label>Package Size</label>
                        <input
                          type="text"
                          class="form-control"
                          placeholder="Enter Package Size"
                          v-model="currentIngredient.package_size"
                          required="required" >
                      </div>

                      <div class="form-group">
                          <label>Cost per Package</label>
                          <input
                            type="number"
                            class="form-control"
                            placeholder="Enter Cost per Package"
                            v-model="currentIngredient.cpp"
                            required="required" >
                        </div>
                    
                  <div class="form-group">
                      <label>(Optional) Vender Info</label>
                      <textarea
                        class="form-control"
                        placeholder="Enter Optional Vender Info"
                        v-model="currentIngredient.description"
                        rows="3"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>(Optional) Ingredient ID</label>
                        <input
                          type="number"
                          class="form-control"
                          placeholder="Enter Optional Ingredient ID"
                          v-model="currentIngredient.id">
                      </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary m-progress" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary">Save changes</button>
              </div>
              </form>
            </div>
          </div>
          <div class="loading" v-if="loading===true">Loading&#8230;</div>
        </div>
        <!-- End of edit article modal -->


            </div>


              <!-- <! — bootrtap js files → -->
              <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
              <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
              <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
              
              <!-- <! — vue.js files → -->
              <script src="https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.js"></script>
              <script src="https://cdn.jsdelivr.net/npm/vue-resource@1.3.5"></script>
              <script type="text/javascript">
                  new Vue({
                    el: '#starting',
                    delimiters: ['${','}'],
                    data: {
                    ingredients: [],
                    loading: false,
                    currentIngredient: {},
                    message: null,
                    newIngredient: { 'name': 'Potato', 'id': null, 'description': null,'package_size': '3', 'cpp': 20, },
                  },
                  mounted: function() {
                      this.getIngredients();
                },
                  methods: {
                      getIngredients: function(){
                          this.loading = true;
                          this.$http.get('/api/ingredient/')
                              .then((response) => {
                                  this.ingredients = response.data;
                                  this.loading = false;
                              })
                              .catch((err) => {
                                  this.loading = false;
                                  console.log(err);
                              })
                      },
                      getIngredient: function(id){
                          this.loading = true;
                          this.$http.get('/api/ingredient/'+id+'/')
                              .then((response) => {
                                  this.currentIngredient = response.data;
                                  $("#editIngredientModal").modal('show');
                                  this.loading = false;
                              })
                              .catch((err) => {
                                  this.loading = false;
                                  console.log(err);
                              })
                      },
                      deleteIngredient: function(id){
                        this.loading = true;
                        // TODO: use delimiters
                        this.$http.delete('/api/ingredient/' + id + '/')
                          .then((response) => {
                            this.loading = false;
                            this.getIngredients();
                          })
                          .catch((err) => {
                            this.loading = false;
                            console.log(err);
                          })
                      },
                      addIngredient: function() {
                        this.loading = true;
                        this.$http.post('/api/ingredient/',this.newIngredient)
                          .then((response) => {
                        $("#addIngredientModal").modal('hide');
                        this.loading = false;
                        this.getIngredients();
                        })
                          .catch((err) => {
                        this.loading = false;
                        console.log(err);
                      })
                      },
                      updateIngredient: function() {
                        this.loading = true;
                        console.log(this.currentIngredient)
                        this.$http.put('/api/ingredient/'+ this.currentIngredient.id + '/',     this.currentIngredient)
                          .then((response) => {
                            $("#editIngredientModal").modal('hide');
                        this.loading = false;
                        this.currentIngredient = response.data;
                        this.getIngredients();
                        })
                          .catch((err) => {
                        this.loading = false;
                        console.log(err);
                      })
                }


                }
                  });
                  </script>
              </body>
              </html>